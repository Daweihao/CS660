<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_191) on Wed Nov 07 23:53:56 EST 2018 -->
<title>BTreeInternalPage</title>
<meta name="date" content="2018-11-07">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BTreeInternalPage";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../simpledb/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../simpledb/BTreeHeaderPage.html" title="class in simpledb"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../simpledb/BTreeInternalPageIterator.html" title="class in simpledb"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?simpledb/BTreeInternalPage.html" target="_top">Frames</a></li>
<li><a href="BTreeInternalPage.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">simpledb</div>
<h2 title="Class BTreeInternalPage" class="title">Class BTreeInternalPage</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../simpledb/BTreePage.html" title="class in simpledb">simpledb.BTreePage</a></li>
<li>
<ul class="inheritance">
<li>simpledb.BTreeInternalPage</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../simpledb/Page.html" title="interface in simpledb">Page</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">BTreeInternalPage</span>
extends <a href="../simpledb/BTreePage.html" title="class in simpledb">BTreePage</a></pre>
<div class="block">Each instance of BTreeInternalPage stores data for one page of a BTreeFile and 
 implements the Page interface that is used by BufferPool.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../simpledb/BTreeFile.html" title="class in simpledb"><code>BTreeFile</code></a>, 
<a href="../simpledb/BufferPool.html" title="class in simpledb"><code>BufferPool</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#childCategory">childCategory</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#children">children</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#header">header</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../simpledb/Field.html" title="interface in simpledb">Field</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#keys">keys</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#numSlots">numSlots</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.simpledb.BTreePage">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;simpledb.<a href="../simpledb/BTreePage.html" title="class in simpledb">BTreePage</a></h3>
<code><a href="../simpledb/BTreePage.html#dirtier">dirtier</a>, <a href="../simpledb/BTreePage.html#dirty">dirty</a>, <a href="../simpledb/BTreePage.html#INDEX_SIZE">INDEX_SIZE</a>, <a href="../simpledb/BTreePage.html#keyField">keyField</a>, <a href="../simpledb/BTreePage.html#oldData">oldData</a>, <a href="../simpledb/BTreePage.html#oldDataLock">oldDataLock</a>, <a href="../simpledb/BTreePage.html#parent">parent</a>, <a href="../simpledb/BTreePage.html#pid">pid</a>, <a href="../simpledb/BTreePage.html#td">td</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#BTreeInternalPage-simpledb.BTreePageId-byte:A-int-">BTreeInternalPage</a></span>(<a href="../simpledb/BTreePageId.html" title="class in simpledb">BTreePageId</a>&nbsp;id,
                 byte[]&nbsp;data,
                 int&nbsp;key)</code>
<div class="block">Create a BTreeInternalPage from a set of bytes of data read from disk.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#checkRep-simpledb.Field-simpledb.Field-boolean-int-">checkRep</a></span>(<a href="../simpledb/Field.html" title="interface in simpledb">Field</a>&nbsp;lowerBound,
        <a href="../simpledb/Field.html" title="interface in simpledb">Field</a>&nbsp;upperBound,
        boolean&nbsp;checkOccupancy,
        int&nbsp;depth)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#deleteEntry-simpledb.BTreeEntry-boolean-">deleteEntry</a></span>(<a href="../simpledb/BTreeEntry.html" title="class in simpledb">BTreeEntry</a>&nbsp;e,
           boolean&nbsp;deleteRightChild)</code>
<div class="block">Delete the specified entry (key + 1 child pointer) from the page.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#deleteKeyAndLeftChild-simpledb.BTreeEntry-">deleteKeyAndLeftChild</a></span>(<a href="../simpledb/BTreeEntry.html" title="class in simpledb">BTreeEntry</a>&nbsp;e)</code>
<div class="block">Delete the specified entry (key + left child pointer) from the page.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#deleteKeyAndRightChild-simpledb.BTreeEntry-">deleteKeyAndRightChild</a></span>(<a href="../simpledb/BTreeEntry.html" title="class in simpledb">BTreeEntry</a>&nbsp;e)</code>
<div class="block">Delete the specified entry (key + right child pointer) from the page.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../simpledb/BTreeInternalPage.html" title="class in simpledb">BTreeInternalPage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#getBeforeImage--">getBeforeImage</a></span>()</code>
<div class="block">Return a view of this page before it was modified
        -- used by recovery</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected <a href="../simpledb/BTreePageId.html" title="class in simpledb">BTreePageId</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#getChildId-int-">getChildId</a></span>(int&nbsp;i)</code>
<div class="block">protected method used by the iterator to get the ith child page id out of this page</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#getHeaderSize--">getHeaderSize</a></span>()</code>
<div class="block">Computes the number of bytes in the header of a B+ internal page with each entry occupying entrySize bytes</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected <a href="../simpledb/Field.html" title="interface in simpledb">Field</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#getKey-int-">getKey</a></span>(int&nbsp;i)</code>
<div class="block">protected method used by the iterator to get the ith key out of this page</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#getMaxEntries--">getMaxEntries</a></span>()</code>
<div class="block">Retrieve the maximum number of entries this page can hold.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#getNumEmptySlots--">getNumEmptySlots</a></span>()</code>
<div class="block">Returns the number of empty slots on this page.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#getNumEntries--">getNumEntries</a></span>()</code>
<div class="block">Returns the number of entries (keys) currently stored on this page</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#getPageData--">getPageData</a></span>()</code>
<div class="block">Generates a byte array representing the contents of this page.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#insertEntry-simpledb.BTreeEntry-">insertEntry</a></span>(<a href="../simpledb/BTreeEntry.html" title="class in simpledb">BTreeEntry</a>&nbsp;e)</code>
<div class="block">Adds the specified entry to the page; the entry's recordId should be updated to 
 reflect that it is now stored on this page.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#isSlotUsed-int-">isSlotUsed</a></span>(int&nbsp;i)</code>
<div class="block">Returns true if associated slot on this page is filled.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>java.util.Iterator&lt;<a href="../simpledb/BTreeEntry.html" title="class in simpledb">BTreeEntry</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#iterator--">iterator</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#markSlotUsed-int-boolean-">markSlotUsed</a></span>(int&nbsp;i,
            boolean&nbsp;value)</code>
<div class="block">Abstraction to fill or clear a slot on this page.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#moveEntry-int-int-">moveEntry</a></span>(int&nbsp;from,
         int&nbsp;to)</code>
<div class="block">Move an entry from one slot to another slot, and update the corresponding
 headers</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#readNextChild-java.io.DataInputStream-int-">readNextChild</a></span>(java.io.DataInputStream&nbsp;dis,
             int&nbsp;slotId)</code>
<div class="block">Read child pointers from the source file.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>private <a href="../simpledb/Field.html" title="interface in simpledb">Field</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#readNextKey-java.io.DataInputStream-int-">readNextKey</a></span>(java.io.DataInputStream&nbsp;dis,
           int&nbsp;slotId)</code>
<div class="block">Read keys from the source file.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>java.util.Iterator&lt;<a href="../simpledb/BTreeEntry.html" title="class in simpledb">BTreeEntry</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#reverseIterator--">reverseIterator</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#setBeforeImage--">setBeforeImage</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../simpledb/BTreeInternalPage.html#updateEntry-simpledb.BTreeEntry-">updateEntry</a></span>(<a href="../simpledb/BTreeEntry.html" title="class in simpledb">BTreeEntry</a>&nbsp;e)</code>
<div class="block">Update the key and/or child pointers of an entry at the location specified by its 
 record id.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.simpledb.BTreePage">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;simpledb.<a href="../simpledb/BTreePage.html" title="class in simpledb">BTreePage</a></h3>
<code><a href="../simpledb/BTreePage.html#createEmptyPageData--">createEmptyPageData</a>, <a href="../simpledb/BTreePage.html#getId--">getId</a>, <a href="../simpledb/BTreePage.html#getParentId--">getParentId</a>, <a href="../simpledb/BTreePage.html#isDirty--">isDirty</a>, <a href="../simpledb/BTreePage.html#markDirty-boolean-simpledb.TransactionId-">markDirty</a>, <a href="../simpledb/BTreePage.html#setParentId-simpledb.BTreePageId-">setParentId</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="header">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>header</h4>
<pre>private final&nbsp;byte[] header</pre>
</li>
</ul>
<a name="keys">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keys</h4>
<pre>private final&nbsp;<a href="../simpledb/Field.html" title="interface in simpledb">Field</a>[] keys</pre>
</li>
</ul>
<a name="children">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>children</h4>
<pre>private final&nbsp;int[] children</pre>
</li>
</ul>
<a name="numSlots">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numSlots</h4>
<pre>private final&nbsp;int numSlots</pre>
</li>
</ul>
<a name="childCategory">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>childCategory</h4>
<pre>private&nbsp;int childCategory</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BTreeInternalPage-simpledb.BTreePageId-byte:A-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BTreeInternalPage</h4>
<pre>public&nbsp;BTreeInternalPage(<a href="../simpledb/BTreePageId.html" title="class in simpledb">BTreePageId</a>&nbsp;id,
                         byte[]&nbsp;data,
                         int&nbsp;key)
                  throws java.io.IOException</pre>
<div class="block">Create a BTreeInternalPage from a set of bytes of data read from disk.
 The format of a BTreeInternalPage is a set of header bytes indicating
 the slots of the page that are in use, some number of entry slots, and extra
 bytes for the parent pointer, one extra child pointer (a node with m entries 
 has m+1 pointers to children), and the category of all child pages (either 
 leaf or internal).
  Specifically, the number of entries is equal to: <p>
          floor((BufferPool.getPageSize()*8 - extra bytes*8) / (entry size * 8 + 1))
 <p> where entry size is the size of entries in this index node
 (key + child pointer), which can be determined via the key field and 
 <a href="../simpledb/Catalog.html#getTupleDesc-int-"><code>Catalog.getTupleDesc(int)</code></a>.
 The number of 8-bit header words is equal to:
 <p>
      ceiling((no. entry slots + 1) / 8)
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - - the id of this page</dd>
<dd><code>data</code> - - the raw data of this page</dd>
<dd><code>key</code> - - the field which the index is keyed on</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../simpledb/Database.html#getCatalog--"><code>Database.getCatalog()</code></a>, 
<a href="../simpledb/Catalog.html#getTupleDesc-int-"><code>Catalog.getTupleDesc(int)</code></a>, 
<a href="../simpledb/BufferPool.html#getPageSize--"><code>BufferPool.getPageSize()</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="checkRep-simpledb.Field-simpledb.Field-boolean-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkRep</h4>
<pre>public&nbsp;void&nbsp;checkRep(<a href="../simpledb/Field.html" title="interface in simpledb">Field</a>&nbsp;lowerBound,
                     <a href="../simpledb/Field.html" title="interface in simpledb">Field</a>&nbsp;upperBound,
                     boolean&nbsp;checkOccupancy,
                     int&nbsp;depth)</pre>
</li>
</ul>
<a name="getMaxEntries--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxEntries</h4>
<pre>public&nbsp;int&nbsp;getMaxEntries()</pre>
<div class="block">Retrieve the maximum number of entries this page can hold. (The number of keys)</div>
</li>
</ul>
<a name="getHeaderSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHeaderSize</h4>
<pre>private&nbsp;int&nbsp;getHeaderSize()</pre>
<div class="block">Computes the number of bytes in the header of a B+ internal page with each entry occupying entrySize bytes</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of bytes in the header</dd>
</dl>
</li>
</ul>
<a name="getBeforeImage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBeforeImage</h4>
<pre>public&nbsp;<a href="../simpledb/BTreeInternalPage.html" title="class in simpledb">BTreeInternalPage</a>&nbsp;getBeforeImage()</pre>
<div class="block">Return a view of this page before it was modified
        -- used by recovery</div>
</li>
</ul>
<a name="setBeforeImage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBeforeImage</h4>
<pre>public&nbsp;void&nbsp;setBeforeImage()</pre>
</li>
</ul>
<a name="readNextKey-java.io.DataInputStream-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readNextKey</h4>
<pre>private&nbsp;<a href="../simpledb/Field.html" title="interface in simpledb">Field</a>&nbsp;readNextKey(java.io.DataInputStream&nbsp;dis,
                          int&nbsp;slotId)
                   throws java.util.NoSuchElementException</pre>
<div class="block">Read keys from the source file.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.util.NoSuchElementException</code></dd>
</dl>
</li>
</ul>
<a name="readNextChild-java.io.DataInputStream-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readNextChild</h4>
<pre>private&nbsp;int&nbsp;readNextChild(java.io.DataInputStream&nbsp;dis,
                          int&nbsp;slotId)
                   throws java.util.NoSuchElementException</pre>
<div class="block">Read child pointers from the source file.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.util.NoSuchElementException</code></dd>
</dl>
</li>
</ul>
<a name="getPageData--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPageData</h4>
<pre>public&nbsp;byte[]&nbsp;getPageData()</pre>
<div class="block">Generates a byte array representing the contents of this page.
 Used to serialize this page to disk.
 <p>
 The invariant here is that it should be possible to pass the byte
 array generated by getPageData to the BTreeInternalPage constructor and
 have it produce an identical BTreeInternalPage object.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A byte array correspond to the bytes of this page.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../simpledb/BTreeInternalPage.html#BTreeInternalPage-simpledb.BTreePageId-byte:A-int-"><code>BTreeInternalPage(simpledb.BTreePageId, byte[], int)</code></a></dd>
</dl>
</li>
</ul>
<a name="deleteEntry-simpledb.BTreeEntry-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteEntry</h4>
<pre>private&nbsp;void&nbsp;deleteEntry(<a href="../simpledb/BTreeEntry.html" title="class in simpledb">BTreeEntry</a>&nbsp;e,
                         boolean&nbsp;deleteRightChild)
                  throws <a href="../simpledb/DbException.html" title="class in simpledb">DbException</a></pre>
<div class="block">Delete the specified entry (key + 1 child pointer) from the page. The recordId
 is used to find the specified entry, so it must not be null. After deletion, the 
 entry's recordId should be set to null to reflect that it is no longer stored on 
 any page.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>e</code> - The entry to delete</dd>
<dd><code>deleteRightChild</code> - - if true, delete the right child. Otherwise
        delete the left child</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../simpledb/DbException.html" title="class in simpledb">DbException</a></code> - if this entry is not on this page, or entry slot is
         already empty.</dd>
</dl>
</li>
</ul>
<a name="deleteKeyAndRightChild-simpledb.BTreeEntry-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteKeyAndRightChild</h4>
<pre>public&nbsp;void&nbsp;deleteKeyAndRightChild(<a href="../simpledb/BTreeEntry.html" title="class in simpledb">BTreeEntry</a>&nbsp;e)
                            throws <a href="../simpledb/DbException.html" title="class in simpledb">DbException</a></pre>
<div class="block">Delete the specified entry (key + right child pointer) from the page. The recordId
 is used to find the specified entry, so it must not be null. After deletion, the 
 entry's recordId should be set to null to reflect that it is no longer stored on 
 any page.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>e</code> - The entry to delete</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../simpledb/DbException.html" title="class in simpledb">DbException</a></code> - if this entry is not on this page, or entry slot is
         already empty.</dd>
</dl>
</li>
</ul>
<a name="deleteKeyAndLeftChild-simpledb.BTreeEntry-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteKeyAndLeftChild</h4>
<pre>public&nbsp;void&nbsp;deleteKeyAndLeftChild(<a href="../simpledb/BTreeEntry.html" title="class in simpledb">BTreeEntry</a>&nbsp;e)
                           throws <a href="../simpledb/DbException.html" title="class in simpledb">DbException</a></pre>
<div class="block">Delete the specified entry (key + left child pointer) from the page. The recordId
 is used to find the specified entry, so it must not be null. After deletion, the 
 entry's recordId should be set to null to reflect that it is no longer stored on 
 any page.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>e</code> - The entry to delete</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../simpledb/DbException.html" title="class in simpledb">DbException</a></code> - if this entry is not on this page, or entry slot is
         already empty.</dd>
</dl>
</li>
</ul>
<a name="updateEntry-simpledb.BTreeEntry-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateEntry</h4>
<pre>public&nbsp;void&nbsp;updateEntry(<a href="../simpledb/BTreeEntry.html" title="class in simpledb">BTreeEntry</a>&nbsp;e)
                 throws <a href="../simpledb/DbException.html" title="class in simpledb">DbException</a></pre>
<div class="block">Update the key and/or child pointers of an entry at the location specified by its 
 record id.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>e</code> - - the entry with updated key and/or child pointers</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../simpledb/DbException.html" title="class in simpledb">DbException</a></code> - if this entry is not on this page, entry slot is
         already empty, or updating this key would put the entry out of 
         order on the page</dd>
</dl>
</li>
</ul>
<a name="insertEntry-simpledb.BTreeEntry-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertEntry</h4>
<pre>public&nbsp;void&nbsp;insertEntry(<a href="../simpledb/BTreeEntry.html" title="class in simpledb">BTreeEntry</a>&nbsp;e)
                 throws <a href="../simpledb/DbException.html" title="class in simpledb">DbException</a></pre>
<div class="block">Adds the specified entry to the page; the entry's recordId should be updated to 
 reflect that it is now stored on this page.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>e</code> - The entry to add.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../simpledb/DbException.html" title="class in simpledb">DbException</a></code> - if the page is full (no empty slots) or key field type,
         table id, or child page category is a mismatch, or the entry is invalid</dd>
</dl>
</li>
</ul>
<a name="moveEntry-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>moveEntry</h4>
<pre>private&nbsp;void&nbsp;moveEntry(int&nbsp;from,
                       int&nbsp;to)</pre>
<div class="block">Move an entry from one slot to another slot, and update the corresponding
 headers</div>
</li>
</ul>
<a name="getNumEntries--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumEntries</h4>
<pre>public&nbsp;int&nbsp;getNumEntries()</pre>
<div class="block">Returns the number of entries (keys) currently stored on this page</div>
</li>
</ul>
<a name="getNumEmptySlots--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumEmptySlots</h4>
<pre>public&nbsp;int&nbsp;getNumEmptySlots()</pre>
<div class="block">Returns the number of empty slots on this page.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../simpledb/BTreePage.html#getNumEmptySlots--">getNumEmptySlots</a></code>&nbsp;in class&nbsp;<code><a href="../simpledb/BTreePage.html" title="class in simpledb">BTreePage</a></code></dd>
</dl>
</li>
</ul>
<a name="isSlotUsed-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSlotUsed</h4>
<pre>public&nbsp;boolean&nbsp;isSlotUsed(int&nbsp;i)</pre>
<div class="block">Returns true if associated slot on this page is filled.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../simpledb/BTreePage.html#isSlotUsed-int-">isSlotUsed</a></code>&nbsp;in class&nbsp;<code><a href="../simpledb/BTreePage.html" title="class in simpledb">BTreePage</a></code></dd>
</dl>
</li>
</ul>
<a name="markSlotUsed-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markSlotUsed</h4>
<pre>private&nbsp;void&nbsp;markSlotUsed(int&nbsp;i,
                          boolean&nbsp;value)</pre>
<div class="block">Abstraction to fill or clear a slot on this page.</div>
</li>
</ul>
<a name="iterator--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>iterator</h4>
<pre>public&nbsp;java.util.Iterator&lt;<a href="../simpledb/BTreeEntry.html" title="class in simpledb">BTreeEntry</a>&gt;&nbsp;iterator()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an iterator over all entries on this page (calling remove on this iterator throws an UnsupportedOperationException)
 (note that this iterator shouldn't return entries in empty slots!)</dd>
</dl>
</li>
</ul>
<a name="reverseIterator--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reverseIterator</h4>
<pre>public&nbsp;java.util.Iterator&lt;<a href="../simpledb/BTreeEntry.html" title="class in simpledb">BTreeEntry</a>&gt;&nbsp;reverseIterator()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a reverse iterator over all entries on this page (calling remove on this iterator throws an UnsupportedOperationException)
 (note that this iterator shouldn't return entries in empty slots!)</dd>
</dl>
</li>
</ul>
<a name="getKey-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKey</h4>
<pre>protected&nbsp;<a href="../simpledb/Field.html" title="interface in simpledb">Field</a>&nbsp;getKey(int&nbsp;i)
                throws java.util.NoSuchElementException</pre>
<div class="block">protected method used by the iterator to get the ith key out of this page</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>i</code> - - the index of the key</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the ith key</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.util.NoSuchElementException</code></dd>
</dl>
</li>
</ul>
<a name="getChildId-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getChildId</h4>
<pre>protected&nbsp;<a href="../simpledb/BTreePageId.html" title="class in simpledb">BTreePageId</a>&nbsp;getChildId(int&nbsp;i)
                          throws java.util.NoSuchElementException</pre>
<div class="block">protected method used by the iterator to get the ith child page id out of this page</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>i</code> - - the index of the child page id</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the ith child page id</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.util.NoSuchElementException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../simpledb/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../simpledb/BTreeHeaderPage.html" title="class in simpledb"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../simpledb/BTreeInternalPageIterator.html" title="class in simpledb"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?simpledb/BTreeInternalPage.html" target="_top">Frames</a></li>
<li><a href="BTreeInternalPage.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
